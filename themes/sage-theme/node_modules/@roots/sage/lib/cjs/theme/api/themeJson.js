"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.method = void 0;
const bud_support_1 = require("@roots/bud-support");
const { isFunction } = bud_support_1.lodash;
const method = async function (input, raw) {
    const ctx = this;
    ctx.extensions.get('wp-theme-json').set('when', true);
    if (!input)
        return ctx;
    isFunction(input)
        ? ctx.extensions
            .get('wp-theme-json')
            .setOptions(raw === true
            ? input(ctx.extensions.get('wp-theme-json').options.all())
            : input(ctx.extensions.get('wp-theme-json').options))
        : ctx.extensions.get('wp-theme-json').setOptions(input);
    return ctx;
};
exports.method = method;
